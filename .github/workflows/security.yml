name: Security Checks

on:
  push:
    branches:
      - '**'
    paths:
      - '**'

jobs:
  security:
    runs-on: ubuntu-latest

    steps:
      # 1Ô∏è Checkout repository
      - name: Checkout repository
        uses: actions/checkout@v3

      # 2 Check for unauthorized binary files
      - name: Check binary files
        run: bash scripts/security/check-binaries.sh

      # 3 Check for unauthorized executable files
      - name: Check executable files
        run: bash scripts/security/check-executables.sh

      # 4 Check for leaked secrets
      - name: Check secrets
        run: bash scripts/security/check-secrets.sh

      # 5 Check file size limits
      - name: Check file sizes
        run: bash scripts/lint/check-file-size.sh